<div class="inseapp-notes-container">
  <h2>Saisie des notes - InseApp</h2>
  <form [formGroup]="noteForm" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label>Classe</label>
      <select formControlName="classe" (change)="onClasseChange()">
        <option value="">Sélectionner une classe</option>
        <option *ngFor="let c of classes" [value]="c.id">{{ c.name }}</option>
      </select>
    </div>
    <div class="form-group">
      <label>Élément</label>
      <select formControlName="element">
        <option value="">Sélectionner un élément</option>
        <option *ngFor="let e of elements" [value]="e.id">{{ e.name }}</option>
      </select>
    </div>
    <div class="form-group">
      <label>Étudiant</label>
      <select formControlName="etudiant">
        <option value="">Sélectionner un étudiant</option>
        <option *ngFor="let et of etudiants" [value]="et.id">{{ et.name }}</option>
      </select>
    </div>
    <div class="form-group">
      <label>Note</label>
      <input formControlName="valeur" type="number" min="0" max="20" step="0.01" placeholder="Note sur 20" />
    </div>
    <div class="form-group">
      <label>Type</label>
      <select formControlName="type">
        <option value="examen">Examen</option>
        <option value="controle">Contrôle</option>
      </select>
    </div>
    <div class="form-group">
      <label>Date</label>
      <input formControlName="date" type="date" />
    </div>
    <button type="submit" [disabled]="loading">Enregistrer la note</button>
    <div class="success" *ngIf="success">{{ success }}</div>
    <div class="error" *ngIf="error">{{ error }}</div>
    <div class="loading" *ngIf="loading">Enregistrement...</div>
  </form>
</div>
